# Speech Manager

Приложение для управления речью с поддержкой распознавания речи, текстового вывода и системного трея.

## Требования

- Python 3.7+
- Windows (используются win32api)
- Микрофон для распознавания речи

## Установка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd speech_manager
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

**Примечание:** Для PyAudio может потребоваться дополнительная установка:
```bash
# Если pip install PyAudio не работает, скачайте wheel файл с:
# https://www.lfd.uci.edu/~gohlke/pythonlibs/#pyaudio
# или используйте conda:
conda install pyaudio
```

3. Настройте переменные окружения (опционально, только если используете GPT/Telegram):

### Windows PowerShell:
```powershell
$env:OPENAI_API_KEY = "ваш-ключ-openai"
$env:TELEGRAM_BOT_TOKEN = "ваш-токен-telegram"
```

### Windows (постоянная установка):
1. Win + R → `sysdm.cpl` → Enter
2. Вкладка "Дополнительно" → "Переменные среды"
3. Создайте переменные:
   - `OPENAI_API_KEY` (если используете GPT)
   - `TELEGRAM_BOT_TOKEN` (если используете Telegram)

## Запуск

```bash
python main.py
```

## Настройки

При первом запуске создается файл `config.json` с настройками по умолчанию. Настройки можно изменить через:
- Иконку в системном трее → Настройки
- Двойной клик по иконке в трее

## Использование

- **Горячая клавиша:** `Ctrl+Shift+Win+F5` - активация прослушивания
- **Иконка в трее:**
  - Одинарный клик - показать/скрыть окно
  - Двойной клик - открыть настройки
  - Правый клик - контекстное меню
- **Окно приложения:**
  - Левый клик на заголовке ("speech-to-text") - скрыть окно
  - Правый клик на заголовке - контекстное меню

## Возможности

- ✅ Распознавание речи через Google Speech Recognition
- ✅ Вывод текста в интерфейс, буфер обмена или текстовый курсор
- ✅ Автоматическое скрытие интерфейса с настраиваемой длительностью
- ✅ Системный трей для фоновой работы
- ✅ Настройка прозрачности, размера шрифта, количества сообщений
- ✅ Поддержка GPT (требует OPENAI_API_KEY)
- ✅ Поддержка Telegram бота (требует TELEGRAM_BOT_TOKEN)

## Структура проекта

- `main.py` - точка входа приложения
- `config/` - модуль управления настройками
- `listner/` - модуль распознавания речи
- `subtitle_speach/` - главное окно приложения
- `settings_window.py` - окно настроек
- `config.json` - файл конфигурации (создается автоматически)

## Проблемы и решения

### PyAudio не устанавливается
Используйте conda или скачайте wheel файл с https://www.lfd.uci.edu/~gohlke/pythonlibs/#pyaudio

### Ошибки с API ключами
Убедитесь, что переменные окружения установлены правильно:
```powershell
echo $env:OPENAI_API_KEY
echo $env:TELEGRAM_BOT_TOKEN
```

### Приложение не запускается
Проверьте, что все зависимости установлены:
```bash
pip install -r requirements.txt
```

## Лицензия

[Укажите лицензию если нужно]
